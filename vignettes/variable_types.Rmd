---
title: "Variable Types"
author: "Allison C Fialkowski"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Variable Types}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, echo = FALSE}
#knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
```

All variables are generated via an appropriate transformation of standard normal variables, as described below.

1. **Continuous Variables:** Continuous variables are simulated using either Fleishman's third-order (`method` = "Fleishman") or Headrick's fifth-order (`method` = "Polynomial")  power method transformation.  This is a computationally efficient algorithm that simulates continuous distributions through the method of moments.  It works by matching standardized cumulants -- the first four for Fleishman's method, or the first six for Headrick's method.  Using the fifth-order approximation allows additional control over the fifth and sixth moments of the generated distribution, improving accuracy.  In addition, the range of feasible standardized kurtosis values, given skew and standardized fifth ($\Large \gamma_{3}$) and sixth ($\Large \gamma_{4}$) cumulants, is larger than with Fleishman's method.  For example, the Fleishman method can not be used to generate a non-normal distribution with a ratio of $\Large \gamma_{3}^2/\gamma_{4} > 9/14$ (see Headrick & Kowalchuk, 2007).  This eliminates the Chi-squared family of distributions, which has a constant ratio of $\Large \gamma_{3}^2/\gamma_{4} = 2/3$.  However, if the fifth and sixth cumulants do not exist, the Fleishman approximation should be used.

`SimMultiCorrData::Headrick.dist` is Headrick's Table 1 (2002, p. 691-2).  This data.frame contains selected symmetrical and asymmetrical theoretical densities with their associated values of skewness ($\Large \gamma_{1}$), standardized kurtosis ($\Large \gamma_{2}$), and standardized fifth ($\Large \gamma_{3}$) and sixth ($\Large \gamma_{4}$) cumulants. Constants were calculated by Headrick using his fifth-order polynomial transformation.

`SimMultiCorrData::H_params` provides the parameter inputs needed to calculate the standardized cumulants for the distributions in `SimMultiCorrData::Headrick.dist` using the function `calc_theory`.

1. **Ordinal Variables:** Ordinal variables (r >= 2 categories) are generated by discretizing the standard normal variables by quantiles.  These quantiles are determined using the cumulative probabilities of each variable's marginal distribution.  The supports may be user-specified.  Otherwise, the default is to use 1, 2, ..., r, where r is the number of categories for a given variable.

1. **Poisson and Negative Binomial Variables:** Count variables are generated using the inverse cdf method.  The cumulative distribution function of a standard normal variable has a uniform distribution.  The appropriate quantile function is applied to this uniform variable with the designated parameters to generate the count variable.  For Poisson variables, the lambda (mean) value should be given (see `stats::qpois`).  For Negative Binomial variables, the size (target number of successes) and either the success probability or the mean should be given (see see `stats::qnbinom`).  The Negative Binomial variable represents the number of failures which occur in a sequence of Bernoulli trials before the target number of successes is achieved.
